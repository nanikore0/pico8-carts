pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- main

function _init()
	poke(0x5f2d, 1)
	
	trail={}
	
	input={}
	-- input: c = color; s = size
	input[1]={x=112,y=120,c=7,s=6}
	input[2]={x=120,y=120,c=7,s=6}
	
	inputtrail={}
	
end

function _update60()
	
	newtrail()
	
	-- old input animation
	--[[
	input[1].x=110
	input[1].y=120
	input[2].x=120
	input[2].y=120
	for myinput in all(input) do
		myinput.c=7
		myinput.s=7
	end
	if btn(üÖæÔ∏è) then
		input[1].c=9
		input[1].x=111
		input[1].y=121
		input[1].s=5
	end
	if btn(‚ùé) then
		input[2].c=9
		input[2].x=121
		input[2].y=121
		input[2].s=5
	end
	]]--
	
end

function _draw()
	cls()
	
	map()
	
	-- stats
	--print(stat(34),7)
	
	-- draw input
	for myinput in all(input) do
		rect(
		myinput.x,
		myinput.y,
		myinput.x+myinput.s,
		myinput.y+myinput.s,
		myinput.c)
	end
	
	-- draw input display
	if btn(üÖæÔ∏è) then
		inputdisplay(input[1])
		newinputtrail(input[1])
	end
	if btn(‚ùé) then
		inputdisplay(input[2])
		newinputtrail(input[2])
	end
	
	-- draw input trail
	for myinput in all(inputtrail) do
		line(
			myinput.x,
			myinput.y,
			myinput.x+6,
			myinput.y,
			5)
		myinput.t-=1
		if myinput.t<=0 then
			del(inputtrail,myinput)
		end
		myinput.y-=1
	end
	
	-- draw cursor trail
	for mytrail in all(trail) do
		circfill(mytrail.x,mytrail.y,mytrail.r,mytrail.c)
		mytrail.t-=1
		if mytrail.t<=0 then
			del(trail,mytrail)
		end
		if mytrail.t<=3 then
			mytrail.r=1
		end
	end
	
	-- draw cursor
	circfill(
		stat(32)-1, -- x pos
		stat(33)-1, -- y pos
		2,          -- radius
		10)         -- color
	
	--spr(0,stat(32)-1,stat(33)-1)
end
-->8
-- tools

function newtrail()
	-- c = color
	-- r = radius
	-- t = timer (in frames)
	
	local newtrail={}
 newtrail.x=stat(32)-1
 newtrail.y=stat(33)-1
 newtrail.c=2
 newtrail.r=2
 newtrail.t=10
 add(trail,newtrail)
end

function inputdisplay(input)
	line(
		input.x+2,
		input.y+input.s-1,
		input.x+input.s-2,
		input.y+input.s-1,
		9)
end

function newinputtrail(input)
	local newinput={}
	newinput.x=input.x
	newinput.y=input.y-2
	newinput.t=30
	add(inputtrail,newinput)
end
__gfx__
00000000000007777700000000000777770000000000077777000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000077eeeee77000000077ccccc77000000077bbbbb770000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007eeeeeeeee7000007ccccccccc7000007bbbbbbbbb7000000000000000000000000000000000000000000000000000000000000000000000000000
0000000007eeee000eeee70007cccc000cccc70007bbbb000bbbb700000000000000000000000000000000000000000000000000000000000000000000000000
0000000007ee0000000ee70007cc0000000cc70007bb0000000bb700000000000000000000000000000000000000000000000000000000000000000000000000
000000007eee0007000eee707ccc0077700ccc707bbb0077700bbb70000000000000000000000000000000000000000000000000000000000000000000000000
000000007ee000770000ee707cc000007000cc707bb000007000bb70000000000000000000000000000000000000000000000000000000000000000000000000
000000007ee000070000ee707cc000777000cc707bb000777000bb70000000000000000000000000000000000000000000000000000000000000000000000000
010000007ee000070000ee707cc000700000cc707bb000007000bb70000000000000000000000000000000000000000000000000000000000000000000000000
171000007eee0077700eee707ccc0077700ccc707bbb0077700bbb70000000000000000000000000000000000000000000000000000000000000000000000000
1771000007ee0000000ee70007cc0000000cc70007bb0000000bb700000000000000000000000000000000000000000000000000000000000000000000000000
1777100007eeee000eeee70007cccc000cccc70007bbbb000bbbb700000000000000000000000000000000000000000000000000000000000000000000000000
17777100007eeeeeeeee7000007ccccccccc7000007bbbbbbbbb7000000000000000000000000000000000000000000000000000000000000000000000000000
1771100000077eeeee77000000077ccccc77000000077bbbbb770000000000000000000000000000000000000000000000000000000000000000000000000000
01171000000007777700000000000777770000000000077777000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000001111111110100000000000000000000008800000000000000000000000000000000000000000000000000000000000000000000000000000000000
000fff00011111111111010100000000000000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000
00fffffb011b31bc11222288999aaaabbbcc1c112288888000000000000000000000000000000000000000000000000000000000000000000000000000000000
0cfff9aa011bb1cc1212288989a9aab3bcbcc1111228888000000000000000000000000000000000000000000000000000000000000000000000000000000000
022efff0011111111110100100000000000000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000
000fff00001111111111010000000000000000000008800000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
3031323334353600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000003040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000013140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001020000000005060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000011120000000015160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
